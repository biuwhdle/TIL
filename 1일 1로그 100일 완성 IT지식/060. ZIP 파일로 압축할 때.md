## 1일 1로그 100일 완성 IT지식

3부 통신 - 060 ZIP 파일로 압축할 때

#### 데이터의 압축

- 데이터의 압축: 가용 메모리와 대역폭을 더 효율적으로 활용 가능
  - 연결 부분의 반대쪽에서 데이터를 수신했을 때 재현하거나 유추할 수 있는 정보는 저장하거나 보내지 않음
  - 압축의 목표: 같은 정보를 더 적은 비트로 인코딩
  - 어떤 비트는 아무 정보도 전달하지 않음 -> 완전히 제거 가능
  - 일부 비트는 다른 비트에서 계산될 수 있음 -> 버리기도 함 (수신자에게 중요하지 않기 때문)

#### 데이터 압축의 예시

- 텍스트에서 비트를 아끼는 방법
  - 텍스트를 아스키코드로 표현할 때 문자 하나는 1바이트(8비트)를 차지 -> 7비트만 사용 (8번째 비트는 항상 0)
  - 가장 흔히 나타나는 문자에는 더 적은 비트를 사용, 자주 사용되지 않는 문자에 더 많은 비트 사용
    - 모스 부호(morse code)와 비슷: 자주 쓰이는 문자 e는 점, t는 대시, 드물게 쓰이는 q는 대시-대시-점-대시로 인코딩
  - 허프만 코딩(huffman coding) 알고리즘
    - 개별 문자를 인코딩하는 가장 효율적인 압축 방법 찾음
  - 단어나 구 단위로 압축, 원래 문서의 특성에 따라 조정 -> 더 나은 결과
- 이미지 압축
  - GIF(Graphics Interchange Format): 256색만 지원
  - PNG(Portable Network Graphics): 1600만 색 이상을 지원
  - 주로 텍스트, 선 그림, 단색 블록으로 구성된 이미지에 사용하려고 만들어진 포맷
- 무손실 압축(lossless compression)
  - 압축해도 정보가 소실되지 않음 -> 압축을 풀면 원본 소스가 정확하게 복원됨
- 손실 압축(lossy compression)
  - 원본 입력을 정확히 재현하지 않음. 원본에 근접한 형태
  - 보거나 듣는 콘텐츠를 압축하는 데 가장 흔히 사용
  - JPEG: 원본 이미지를 10분의 1 이하로 압축, 육안으로 큰 품질 저하는 알아챌 수 없음
    - 사람은 서로 가까이 있는 색상을 구별하지 못함 -> 입력된 것과 정확히 같은 색상을 보존하지 않아도 됨
    - 더 적은 수의 색상으로도 충분히 표현 -> 이미지를 더 적은 비트로 인코딩
    - 최종 이미지는 원본만큼 선명하지는 않음. 육안으로는 차이 못 느낌
  - MPEG: 개별 프레임을 JPEG처럼 압축, 한 프레임에서 다음 프레임으로 갈 때 크게 변하지 않는 일련의 블록을 압축
    - 움직임의 결과를 예측해 변경 사항만 인코딩
    - 정적인 배경에서 움직이는 전경을 분리, 배경에 더 적은 비트를 사용해 압축
  - AAC: MPEG의 오디오 부분
    - 지각 부호화(perceptual coding) 알고리즘
    - 시끄러운 소리가 조용한 소리를 가림, 사람의 청각이 약 20kHz보다 높은 주파수를 들을 수 없음을 이용
    - 표준 CD 오디오를 약 10배 비율로 압축
- 휴대전화의 압축
  - 음성: 다른 임의의 소리보다 훨씬 더 많이 압축
    - 주파수 범위 좁음, 말하는 사람에 따라 성도(vocal tract)를 다르게 모델링 가능

#### 압축 알고리즘에 담긴 아이디어
- 나중에 사용될 가능성이 있는 정보를 전혀 전달하지 않는 비트를 줄이거나 없앰
  - 자주 발생하는 요소를 더 적은 비트로 인코딩, 자주 나타나는 일련의 정보에 대한 사전 만듦, 반복되는 요소는 횟수와 함께 인코딩
  - 무손실 압축: 원본을 완벽히 재구성
  - 손실 압축: 수신자에게 필요하지 않은 일부 정보 버림. 품질과 압축률 간 트레이드오프 발생
- 또 다른 트레이드오프: 압축할 때의 속도 및 복잡도와 압축 해제할 때의 속도 및 복잡도 비교
  - ex. 디지털 TV 영상이 블록 모양으로 깨지거나 음향이 이상하게 들림
    - 압축 해제 알고리즘이 어떤 입력 오류 상태를 회복하지 못해서 발생
    - 다음 데이터가 충분히 일찍 도착하지 않았기 때문
- 어떤 알고리즘을 사용하든 일부 입력은 크기가 줄어들지 않음
  - 더 이상 압축할 정보가 없는데도 압축 알고리즘을 거듭할 경우
  - 불필요한 정보 추가 -> 크기가 더 커지기도 함
